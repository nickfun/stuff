<!doctype html>
<html>
  <head>
    <title>BackBone Router Test</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.marionette/2.1.0/backbone.marionette.min.js"></script>
    <meta charset="utf-8">
  </head>
  <body>
    <h1>Hello World!</h1>
    <ul>
      <li><a href="#page1">page1</a></li>
      <li><a href="#page2">page2</a></li>
      <li><a href="#page3">page3</a></li>
      <li><a href="#page4">page4</a></li>
      <li><a href="#page5">page5</a></li>
    </ul>

    <div id="main">Contents</div>

    
    <!-- templates -->
    <script type="text/template" id="tpl-page">
     <h3>Node <%- title %></h3>
     <p><%- body %></p>
    </script>

    <!-- CODE -->
    <script>
     window.i = 0;
     $(function() {
       Backbone.history.start();
       window.r = new AppRouter();
       oRegion.show(new MyView({model: new Backbone.Model({
         title: "Default",
         body: "Welcome to the beginning!"
       })}));
       r.on("route", function() {
         console.log("event on AppRouter", JSON.stringify(arguments));
       });
     });
     var oRegion = new Marionette.Region({
       el: '#main'
     });
     var MyView = Marionette.ItemView.extend({
       template: '#tpl-page'
     });
     var AppRouter = Backbone.Router.extend({
       routes: {
         page1: "page1",
         page2: "page2",
         page3: "page3",
         page4: "page4",
         page5: "page5"
       },

       page1: function() {
         console.warn("ROUTE: Page 1", i++);
         oRegion.show(new MyView({model: new Backbone.Model({
           title: "Page 1",
           body: "abc xyz"
         })}));
       },
       page2: function() {
         console.warn("ROUTE: Page 2", i++);
         oRegion.show(new MyView({model: new Backbone.Model({
           title: "Page 2",
           body: "hello world!"
         })}));
       },
       page3: function() {
         console.warn("ROUTE: Page 3", i++);
         oRegion.show(new MyView({model: new Backbone.Model({
           title: "Page 3",
           body: "Wassup man!!!"
         })}));
       },
       page4: function() {
         console.warn("ROUTE: Page 4", i++);
         oRegion.show(new MyView({model: new Backbone.Model({
           title: "Page 4",
           body: "I am here I am so here"
         })}));
       },
       page5: function() {
         console.warn("ROUTE: Page 5", i++);
         oRegion.show(new MyView({model: new Backbone.Model({
           title: "Page 5",
           body: "Things are great I am super happy :-]"
         })}));
       }
     });
     
     
    </script>

  </body>
</html>

